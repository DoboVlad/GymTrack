<div class="modal-overlay">
  <div class="modal">
    <div class="modal-header">
      <h3>Add New Workout</h3>
      <button class="close-btn" (click)="onCancel()">×</button>
    </div>
    <form (ngSubmit)="onSave()">
      <div class="form-group">
        <label for="workoutType">Workout Type</label>
        <select id="workoutType" [(ngModel)]="workout.type" name="type" required>
          <option value="" disabled>Select type</option>
          <option *ngFor="let type of workoutTypes" [value]="type">{{type}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="workoutDate">Date</label>
        <input type="date" id="workoutDate" [(ngModel)]="workout.date" name="date" required>
      </div>
      <div class="form-group exercises-section">
        <label>Exercises</label>
        <div class="exercises-list">
          <div class="exercise-row" *ngFor="let exercise of workout.exercises; let i = index">
            <input type="text" placeholder="Exercise name"
              [(ngModel)]="exercise.name"
              name="exerciseName{{i}}" required>
            <input type="text" placeholder="Weight (kg or 'bodyweight')"
              [(ngModel)]="exercise.weight"
              name="exerciseWeight{{i}}" required>
            <button type="button" class="remove-exercise-btn" (click)="removeExercise(i)" *ngIf="workout.exercises.length > 1">–</button>
          </div>
        </div>
        <button type="button" class="add-exercise-btn" (click)="addExercise()">+ Add Exercise</button>
      </div>
      <div class="form-actions">
        <button type="submit" class="save-btn">Save Workout</button>
        <button type="button" class="cancel-btn" (click)="onCancel()">Cancel</button>
      </div>
    </form>
  </div>
</div>
