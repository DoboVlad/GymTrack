<div class="modal-overlay">
  <div class="modal">
    <div class="modal-header">
      @if(bodyCompositionEdited()) {
        <h3>Edit Body Composition</h3>
      } @else {
        <h3>Add New Body Composition</h3>
      }
      <button class="close-btn" (click)="onCancel()">Ã—</button>
    </div>
    <form (ngSubmit)="onSave()" [formGroup]="bodyCompositionForm">

      <div class="form-group">
        <label for="date">Date</label>
        <input type="date" id="date" formControlName="date" name="date" required>
        @if(isControlInvalid('date')) {
        <p class="error">Date is required and bigger than 0!</p>
        }
      </div>

      <div class="form-group">
        <label for="weight">Weight (kg)</label>
        <input type="number" id="kilograms" formControlName="weight" name="weight" min="0" step="0.1" required>
        @if(isControlInvalid('weight')) {
        <p class="error">Weight is required and bigger than 0!</p>
        }
      </div>

      <div class="form-group">
        <label for="bodyFat">Body Fat %</label>
        <input type="number" id="bodyFat" formControlName="bodyFat" name="bodyFat" min="0" max="100" step="0.1"
          required>
        @if(isControlInvalid('bodyFat')) {
        <p class="error">Body Fat percentage is required and bigger than 0!</p>
        }
      </div>

      <div class="form-group">
        <label for="muscleMass">Muscle Mass (kg)</label>
        <input type="number" id="muscleMass" formControlName="muscleMass" name="muscleMass" min="0" step="0.1" required>
        @if(isControlInvalid('muscleMass')) {
        <p class="error">Muscle Mass is required and bigger than 0!</p>
        }
      </div>

      <div class="form-group">
        <label for="bodyWater">Body Water %</label>
        <input type="number" id="bodyWater" formControlName="bodyWater" name="bodyWater" min="0" max="100" step="0.1"
          required>
        @if(isControlInvalid('bodyWater')) {
        <p class="error">Body Water percentage is required and bigger than 0!</p>
        }
      </div>

      <div class="form-group">
        <label for="boneMass">Bone Mass (kg)</label>
        <input type="number" id="boneMass" formControlName="boneMass" name="boneMass" min="0" step="0.1" required>
        @if(isControlInvalid('boneMass')) {
        <p class="error">Bone Mass is required and bigger than 0!</p>
        }
      </div>

      <div class="form-group">
        <label for="metabolicAge">Metabolic Age</label>
        <input type="number" id="metabolicAge" formControlName="metabolicAge" name="metabolicAge" min="0" step="1"
          required>
        @if(isControlInvalid('metabolicAge')) {
        <p class="error">Metabolic Age is required and bigger than 0!</p>
        }
      </div>
      <div class="form-actions">
        <button type="submit" class="save-btn">Save</button>
        <button type="button" class="cancel-btn" (click)="onCancel()">Cancel</button>
      </div>
    </form>
  </div>
</div>